{% extends "secure_notes/base.html" %}

{% block page_header %}
    <h2>Your Notes</h2>
{% endblock page_header %}

{% block content %}



<p><a href="{% url 'secure_notes:create_note' %}" class="btn btn-primary">Add a new note</a>
</p>
{% for note in notes %}
<div class="card mb-3">
    <!-- Card header with timestamp and edit link-->
     <h4 class="card-header">
        {{ note.created_at|date:"M j, Y, g:i a" }}
        <small>
            <a href="{% url 'secure_notes:edit_note' note.id %}" class="btn btn-sm btn-outline-secondary float-end">Edit</a>
        </small>
    </h4>
    <!-- Card body with note content -->
    <div class="card-body">
        <h4 class="card-title">{{ note.title }}</h4>
        <p class="note-preview">{{ note.content|linebreaksbr }}</p>
        <p class="card-text"><small class="text-muted">Last updated: {{ note.updated_at|date:"F j, Y, g:i a" }}</small></p>
        <a href="{% url 'secure_notes:note_detail' note.id %}" class="btn btn-primary">View Details</a>
    </div>
</div>
{% empty %}
<div class="alert alert-info" role="alert">
    No notes have been added yet. <a href="{% url 'secure_notes:create_note' %}" class="alert-link">Add your first note</a>
</div>
{% endfor %}
</ul>

{% endblock content %}
